# Foundations of Stable Category Theory

Charles Norton  
June 17, 2025

This repository contains a formalization of stable category theory within the framework of Homotopy Type Theory using the Coq proof assistant. The development provides a comprehensive treatment of pre-stable and stable categories through a univalent lens, culminating in a complete formalization of the duality principle that underlies stable homotopy theory. The formalization spans approximately 4,000 lines of Coq code and introduces several novel mathematical concepts that emerged during the formal development process.

Stable categories occupy a central position in modern mathematics, providing the categorical framework for stable homotopy theory and serving as the foundation for triangulated categories. Despite their fundamental importance, stable categories have not previously been formalized within homotopy type theory, leaving a significant gap between the abstract theory and its computational realization. This formalization addresses this gap by developing the theory of stable categories from first principles within a constructive, univalent framework.

The project builds systematically from basic categorical concepts to the full theory of stable categories. Beginning with zero objects and biproducts, we construct additive categories and introduce the notion of pre-stable categories equipped with suspension and loop functors. The formalization establishes the theory of distinguished triangles and verifies the axioms of triangulated categories, culminating in the proof that proper stable categories with cofibers are triangulated categories.

The formalization follows a layered architecture that reflects the natural mathematical hierarchy. At the foundation, we establish a comprehensive treatment of additive categories, carefully separating structural data from universal properties to enable both computational work and abstract reasoning. This design choice reflects lessons learned from performance challenges in other categorical formalizations while maintaining the mathematical clarity essential for formal verification.

Building on this foundation, we introduce pre-stable categories, a conceptual innovation that captures categories equipped with suspension and loop functors connected by natural transformations without requiring these functors to be equivalences. This intermediate notion, absent from classical treatments, emerges naturally in the HoTT setting and provides a framework for studying categories in various stages of stability. The formalization demonstrates that pre-stable categories exhibit rich structure, including a natural hierarchy of stability conditions that we classify systematically.

The treatment of distinguished triangles represents a key technical achievement. Rather than treating triangles merely as sequences of morphisms, we introduce structured data that captures their geometric meaning and makes exactness conditions computationally checkable. The formalization establishes fundamental properties including the rotation operation and proves that rotation preserves the distinguished property. We verify the axioms TR1 through TR4 of triangulated categories, with particular attention to the octahedral axiom which presents significant technical challenges.

Perhaps the most significant mathematical contribution of this formalization is the complete treatment of how stable categories behave under dualization. The opposite of a pre-stable category is constructed by reversing all morphisms while simultaneously exchanging the roles of suspension and loop functors. This construction, while understood informally in the mathematical community, had never been formalized previously. The formalization makes precise how every theorem about stable categories has a dual obtained by passing to the opposite category.

The duality principle extends throughout the theory. We prove that the opposite of a proper stable category is again proper stable, with the triangle identities and isomorphism conditions transferring appropriately. Distinguished triangles in the opposite category correspond to triangles in the original category with reversed morphisms and swapped suspension functors. This development required establishing numerous technical lemmas about how natural transformations and functorial constructions behave under dualization, providing a complete picture of categorical duality in the stable setting.

The process of formalization led to several mathematical insights that appear to be new to the literature. Most notably, we discovered the η-zero forcing principle, which reveals unexpected rigidity in pre-stable categories. This theorem establishes that if any object admits a retraction from the zero object and the unit transformation η vanishes at that object, then η must also vanish at the zero object itself. The proof leverages the uniqueness of morphisms involving zero objects in a novel way, suggesting deep connections between the vanishing locus of natural transformations and the retraction structure of categories.

Building on this principle, we developed a classification of pre-stable categories based on their stability properties. The formalization reveals that pre-stable categories naturally stratify into distinct levels: trivial pre-stable categories where η or ε can be zero, semi-stable categories where either η or ε consists of isomorphisms, balanced categories where the isomorphism properties of η and ε are perfectly correlated, almost proper stable categories where both are isomorphisms but triangle identities may fail, and finally proper stable categories with full equivalence between suspension and loop. This classification provides new insight into the progression from pre-stability to full stability.

The formalization makes several technical contributions beyond the mathematical results. The treatment of universe polymorphism in the context of stable categories required novel solutions to maintain consistency while allowing flexible universe levels. The systematic use of opacity and strategic control of reduction behavior enables complex proofs to remain computationally tractable. The separation of data from properties throughout the development provides a design pattern applicable to other large-scale formalizations.

The computational aspects of the formalization suggest algorithmic applications. Triangle rotation, distinguished triangle construction, and the opposite category construction all exhibit computational content that could be extracted and optimized. The perfect involutive behavior of the double opposite construction demonstrates that our categorical constructions respect the expected symmetries at a computational level.

This formalization relates to several streams of work in formalized mathematics. The integration with the Coq-HoTT library is fundamental, as we build directly on its treatment of equivalences, univalence, and basic category theory. The relationship to UniMath's extensive category theory library suggests possibilities for integration, potentially providing UniMath with its first treatment of triangulated and stable categories. Comparison with Lean's triangulated category formalization reveals complementary approaches: while Lean achieves impressive completeness including derived categories, our univalent framework provides conceptual advantages in handling equivalences and dualities.

The framework established here enables several immediate applications in formalized mathematics. The distinguished triangle structure provides a foundation for verified homological algebra, including long exact sequences and fundamental theorems like the five lemma in triangulated settings. The stable categorical framework opens possibilities for formalized stable homotopy theory, including verified constructions of stable homotopy groups and formal treatments of spectral sequences.

Looking forward, this work provides essential infrastructure for formalizing stable ∞-categories, increasingly recognized as the correct framework for stable homotopy theory. The 1-categorical foundations established here, particularly the treatment of triangulated structures and duality, provide necessary prerequisites for such a development. Extensions to equivariant and motivic settings present fascinating challenges where the interplay between stability and additional structure could yield new insights through formalization.

This formalization represents a significant advance in computer-verified mathematics, providing the first comprehensive treatment of stable category theory within homotopy type theory. By combining the conceptual clarity of univalent foundations with careful attention to computational feasibility, we have created a framework that serves both theoretical exploration and practical application. The discovery of new mathematical phenomena during the formalization process demonstrates the value of formal methods not merely for verification but as a tool for mathematical discovery.

The author wishes to thank the maintainers of the Coq-HoTT library, particularly Dan Christensen and Ali Caglayan, whose foundational work and ongoing support made this development possible. Their careful curation of the HoTT library and responsive assistance with technical issues were invaluable throughout this project.

This work is distributed under the BSD 2-Clause License. When citing this formalization, please reference: Norton, C. (2025). Foundations of Stable Category Theory. Computer formalization in Coq-HoTT.
